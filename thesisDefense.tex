% uWaterloo Thesis Template for LaTeX 
% Last Updated June 14, 2017 by Stephen Carr, IST Client Services
% FOR ASSISTANCE, please send mail to rt-IST-CSmathsci@ist.uwaterloo.ca

% Effective October 2006, the University of Waterloo 
% requires electronic thesis submission. See the uWaterloo thesis regulations at
% https://uwaterloo.ca/graduate-studies/thesis.

% DON'T FORGET TO ADD YOUR OWN NAME AND TITLE in the "hyperref" package
% configuration below. THIS INFORMATION GETS EMBEDDED IN THE PDF FINAL PDF DOCUMENT.
% You can view the information if you view Properties of the PDF document.

% Many faculties/departments also require one or more printed
% copies. This template attempts to satisfy both types of output. 
% It is based on the standard "book" document class which provides all necessary 
% sectioning structures and allows multi-part theses.

% DISCLAIMER
% To the best of our knowledge, this template satisfies the current uWaterloo requirements.
% However, it is your responsibility to assure that you have met all 
% requirements of the University and your particular department.
% Many thanks for the feedback from many graduates that assisted the development of this template.

% -----------------------------------------------------------------------

% By default, output is produced that is geared toward generating a PDF 
% version optimized for viewing on an electronic display, including 
% hyperlinks within the PDF.
 
% E.g. to process a thesis called "mythesis.tex" based on this template, run:

% pdflatex mythesis	-- first pass of the pdflatex processor
% bibtex mythesis	-- generates bibliography from .bib data file(s)
% makeindex         -- should be run only if an index is used 
% pdflatex mythesis	-- fixes numbering in cross-references, bibliographic references, glossaries, index, etc.
% pdflatex mythesis	-- fixes numbering in cross-references, bibliographic references, glossaries, index, etc.

% If you use the recommended LaTeX editor, Texmaker, you would open the mythesis.tex
% file, then click the PDFLaTeX button. Then run BibTeX (under the Tools menu).
% Then click the PDFLaTeX button two more times. If you have an index as well,
% you'll need to run MakeIndex from the Tools menu as well, before running pdflatex
% the last two times.

% N.B. The "pdftex" program allows graphics in the following formats to be
% included with the "\includegraphics" command: PNG, PDF, JPEG, TIFF
% Tip 1: Generate your figures and photos in the size you want them to appear
% in your thesis, rather than scaling them with \includegraphics options.
% Tip 2: Any drawings you do should be in scalable vector graphic formats:
% SVG, PNG, WMF, EPS and then converted to PNG or PDF, so they are scalable in
% the final PDF as well.
% Tip 3: Photographs should be cropped and compressed so as not to be too large.

% To create a PDF output that is optimized for double-sided printing: 
%
% 1) comment-out the \documentclass statement in the preamble below, and
% un-comment the second \documentclass line.
%
% 2) change the value assigned below to the boolean variable
% "PrintVersion" from "false" to "true".

% --------------------- Start of Document Preamble -----------------------

% Specify the document class, default style attributes, and page dimensions
% For hyperlinked PDF, suitable for viewing on a computer, use this:
\documentclass[letterpaper,12pt,titlepage,oneside,final]{book}
 
% For PDF, suitable for double-sided printing, change the PrintVersion variable below
% to "true" and use this \documentclass line instead of the one above:
%\documentclass[letterpaper,12pt,titlepage,openright,twoside,final]{book}

% Some LaTeX commands I define for my own nomenclature.
% If you have to, it's better to change nomenclature once here than in a 
% million places throughout your thesis!

% Project 1
\newcommand{\E}{\mathbb{E}}
\renewcommand{\Pr}{\mathbb{P}}

\newcommand{\fracM}{\frac{1}{M}}
\newcommand{\fracMM}{\frac{1}{M^2}}
\newcommand{\sumM}{\sum_{i=1}^M}

\newcommand{\fracN}{\frac{1}{N}}
\newcommand{\fracNN}{\frac{1}{N^2}}
\newcommand{\sumN}{\sum_{j=1}^N}

\newcommand{\fracG}{\frac{1}{\Gamma}}
\newcommand{\sumG}{\sum_{i=1}^\Gamma}

\newcommand{\rhoh}{\hat{\rho}}
\newcommand{\Lh}{\hat{L}}
\newcommand{\betah}{\hat{\beta}}

\newcommand{\Bias}{\textnormal{Bias}}
\newcommand{\Variance}{\textnormal{Variance}}

% This package allows if-then-else control structures.
\usepackage{ifthen}
\newboolean{PrintVersion}
\setboolean{PrintVersion}{false} 
% CHANGE THIS VALUE TO "true" as necessary, to improve printed results for hard copies
% by overriding some options of the hyperref package below.

%\usepackage{nomencl} % For a nomenclature (optional; available from ctan.org)
\usepackage{amsmath,amssymb} % Lots of math symbols and environments
\usepackage[pdftex]{graphicx} % For including graphics N.B. pdftex graphics driver
\usepackage{booktabs}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{color}
\usepackage{inputenc}
\usepackage[round]{natbib}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{bm,enumitem}
\usepackage{makecell}
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage[normalem]{ulem}
\usepackage{lipsum}
\usepackage{ntheorem}
\sisetup{group-separator = {,}}

\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing}

% Declare short-hand notations
\newtheorem{theorem}{Theorem}
\newtheorem*{definitionA1*}{Definition A1}
\newtheorem*{definitionA2*}{Definition A2}
\newtheorem{assumption}{Assumption}
\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\newtheorem{definition}{Definition}

\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\newcommand{\SNS}{\text{SNS}}
\newcommand{\REG}{\text{REG}}
\newcommand{\KS}{\text{KS}}
\newcommand{\LR}{\text{LR}}
\newcommand{\KRR}{\text{KRR}}
\newcommand{\MSE}{\text{MSE}}

\newcommand{\convergeD}{\xrightarrow{\mathcal{D}}}
\newcommand{\convergeP}{\xrightarrow{\mathbb{P}}}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\VaR}{\mbox{VaR}}
\newcommand{\CVaR}{\mbox{CVaR}}
\newcommand{\tail}{\mathcal{T}}
\newcommand{\bS}{\bm{S}}
\newcommand{\bStilde}{\widetilde{\bm{S}}}
\newcommand{\Stilde}{\widetilde{S}}
\newcommand{\Itilde}{\widetilde{I}}
\newcommand{\Ftilde}{\widetilde{F}}
\newcommand{\Gtilde}{\widetilde{G}}
\newcommand{\Vhat}{\widehat{V}}
\newcommand{\Lhat}{\widehat{L}}
\newcommand{\Deltahat}{\widehat{\Delta}}

% Hyperlinks make it very easy to navigate an electronic document.
% In addition, this is where you should specify the thesis title
% and author as they appear in the properties of the PDF document.
% Use the "hyperref" package 
% N.B. HYPERREF MUST BE THE LAST PACKAGE LOADED; ADD ADDITIONAL PKGS ABOVE
\usepackage[pdftex,pagebackref=false]{hyperref} % with basic options
		% N.B. pagebackref=true provides links back from the References to the body text. This can cause trouble for printing.
\hypersetup{
    plainpages=false,       % needed if Roman numbers in frontpages
    unicode=false,          % non-Latin characters in Acrobat's bookmarks
    pdftoolbar=true,        % show Acrobat's toolbar?
    pdfmenubar=true,        % show Acrobat's menu?
    pdffitwindow=false,     % window fit to page when opened
    pdfstartview={FitH},    % fits the width of the page to the window
    pdftitle={uWaterloo\ LaTeX\ Thesis\ Template},    % title: CHANGE THIS TEXT!
%    pdfauthor={Author},    % author: CHANGE THIS TEXT! and uncomment this line
%    pdfsubject={Subject},  % subject: CHANGE THIS TEXT! and uncomment this line
%    pdfkeywords={keyword1} {key2} {key3}, % list of keywords, and uncomment this line if desired
    pdfnewwindow=true,      % links in new window
    colorlinks=true,        % false: boxed links; true: colored links
    linkcolor=blue,         % color of internal links
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}
\ifthenelse{\boolean{PrintVersion}}{   % for improved print quality, change some hyperref options
\hypersetup{	% override some previously defined hyperref options
%    colorlinks,%
    citecolor=black,%
    filecolor=black,%
    linkcolor=black,%
    urlcolor=black}
}{} % end of ifthenelse (no else)

\usepackage[automake,toc,abbreviations]{glossaries-extra} % Exception to the rule of hyperref being the last add-on package
% If glossaries-extra is not in your LaTeX distribution, get it from CTAN (http://ctan.org/pkg/glossaries-extra), 
% although it's supposed to be in both the TeX Live and MikTeX distributions. There are also documentation and 
% installation instructions there.

% Setting up the page margins...
% uWaterloo thesis requirements specify a minimum of 1 inch (72pt) margin at the
% top, bottom, and outside page edges and a 1.125 in. (81pt) gutter
% margin (on binding side). While this is not an issue for electronic
% viewing, a PDF may be printed, and so we have the same page layout for
% both printed and electronic versions, we leave the gutter margin in.
% Set margins to minimum permitted by uWaterloo thesis regulations:
\setlength{\marginparwidth}{0pt} % width of margin notes
% N.B. If margin notes are used, you must adjust \textwidth, \marginparwidth
% and \marginparsep so that the space left between the margin notes and page
% edge is less than 15 mm (0.6 in.)
\setlength{\marginparsep}{0pt} % width of space between body text and margin notes
\setlength{\evensidemargin}{0.125in} % Adds 1/8 in. to binding side of all 
% even-numbered pages when the "twoside" printing option is selected
\setlength{\oddsidemargin}{0.125in} % Adds 1/8 in. to the left of all pages
% when "oneside" printing is selected, and to the left of all odd-numbered
% pages when "twoside" printing is selected
\setlength{\textwidth}{6.375in} % assuming US letter paper (8.5 in. x 11 in.) and 
% side margins as above
\raggedbottom

% The following statement specifies the amount of space between
% paragraphs. Other reasonable specifications are \bigskipamount and \smallskipamount.
\setlength{\parskip}{\medskipamount}

% The following statement controls the line spacing.  The default
% spacing corresponds to good typographic conventions and only slight
% changes (e.g., perhaps "1.2"), if any, should be made.
\renewcommand{\baselinestretch}{1} % this is the default line space setting

% By default, each chapter will start on a recto (right-hand side)
% page.  We also force each section of the front pages to start on 
% a recto page by inserting \cleardoublepage commands.
% In many cases, this will require that the verso page be
% blank and, while it should be counted, a page number should not be
% printed.  The following statements ensure a page number is not
% printed on an otherwise blank verso page.
\let\origdoublepage\cleardoublepage
\newcommand{\clearemptydoublepage}{%
  \clearpage{\pagestyle{empty}\origdoublepage}}
\let\cleardoublepage\clearemptydoublepage

% List of Abbreviations (abbreviations type is built in to the glossaries-extra package)
\newabbreviation{dnn}{DNN}{Deep Neural Network}
\newabbreviation{va}{VA}{Variable Annuity}
\newabbreviation{gmmb}{GMMB}{Guaranteed Minimum Maturity Benefit}
\newabbreviation{gmwb}{GMWB}{Guaranteed Minimum Withdrawal Benefit}
\newabbreviation{gbm}{GBM}{Geometric Brownian Motion}
\newabbreviation{ml}{ML}{Machine Learning}
\newabbreviation{sns}{SNS}{Standard Nested Simulation}
\newabbreviation{var}{VaR}{Value at Risk}
\newabbreviation{tl}{TL}{Transfer Learning}
\newabbreviation{lstm}{LSTM}{Long Short-Term Memory}
\newabbreviation{fnn}{FNN}{Feedforward Neural Network}
\newabbreviation{cnn}{CNN}{Convolutional Neural Network}
\newabbreviation{rnn}{RNN}{Recurrent Neural Network}
\newabbreviation{mse}{MSE}{Mean Squared Error}
\newabbreviation{glm}{GLM}{Generalized Linear Model}
\newabbreviation{relu}{ReLU}{Rectified Linear Unit}
\newabbreviation{sgd}{SGD}{Stochastic Gradient Descent}
\newabbreviation{mc}{MC}{Monte Carlo}
\newabbreviation{krr}{KRR}{Kernel Ridge Regression}
\newabbreviation{mlmc}{MLMC}{Multi-Level Monte Carlo}
\newabbreviation{ae}{AE}{Absolute Error}
\newabbreviation{cvar}{CVaR}{Conditional Value at Risk}
\newabbreviation{rkhs}{RKHS}{Reproducing Kernel Hilbert Space}
\newabbreviation{arima}{ARIMA}{Autoregressive Integrated Moving Average}
\newabbreviation{garch}{GARCH}{Generalized Autoregressive Conditional Heteroskedasticity}
\newabbreviation{rsgbm}{RS-GBM}{Regime-Switching Geometric Brownian Motion}
\newabbreviation{arch}{ARCH}{Autoregressive Conditional Heteroskedasticity}
\newabbreviation{knn}{kNN}{K-Nearest Neighbors}
\newabbreviation{mlr}{MLR}{Multiple Linear Regression}
\newabbreviation{qpr}{QPR}{Quadratic Programming Regression}
\newabbreviation{gmab}{GMAB}{Guaranteed Minimum Accumulation Benefit}
\newabbreviation{gmdb}{GMDB}{Guaranteed Minimum Death Benefit}
\newabbreviation{glwb}{GLWB}{Guaranteed Lifetime Withdrawal Benefit}
\newabbreviation{rl}{RL}{Reinforcement Learning}
\newabbreviation{drl}{DRL}{Deep Reinforcement Learning}
\newabbreviation{ddpg}{DDPG}{Deep Deterministic Policy Gradient}
\newabbreviation{ppo}{PPO}{Proximal Policy Optimization}
\newabbreviation{trpo}{TRPO}{Trust Region Policy Optimization}
\newabbreviation{mdp}{MDP}{Markov Decision Process}
\newabbreviation{rrmse}{RRMSE}{Relative Root Mean Squared Error}
\newabbreviation{pl}{P\&L}{Profit and Loss}
\newabbreviation{mcts}{MCTS}{Monte Carlo Tree Search}


% List of Symbols
\newglossary*{symbols}{List of Symbols}
\newglossaryentry{loss}
{
name={$L$},
sort={label},
type=symbols,
description={Loss random variable of a financial contract}
}
 
\makeglossaries

%======================================================================
%   L O G I C A L    D O C U M E N T -- the content of your thesis
%======================================================================
\begin{document}

% For a large document, it is a good idea to divide your thesis
% into several files, each one containing one chapter.
% To illustrate this idea, the "front pages" (i.e., title page,
% declaration, borrowers' page, abstract, acknowledgements,
% dedication, table of contents, list of tables, list of figures,
% nomenclature) are contained within the file "uw-ethesis-frontpgs.tex" which is
% included into the document by the following statement.
%----------------------------------------------------------------------
% FRONT MATERIAL
%----------------------------------------------------------------------
\input{uw-ethesis-frontpgs} 

%----------------------------------------------------------------------
% MAIN BODY
%----------------------------------------------------------------------
% Because this is a short document, and to reduce the number of files
% needed for this template, the chapters are not separate
% documents as suggested above, but you get the idea. If they were
% separate documents, they would each start with the \chapter command, i.e, 
% do not contain \documentclass or \begin{document} and \end{document} commands.

\input{./introduction}

\input{./project1/nsSurvey}
\input{./project2/nnMetamodels}
\input{./project3/draft}
\input{./conclusion}
\input{./futureWork/rlHedging}

%----------------------------------------------------------------------
% END MATERIAL
%----------------------------------------------------------------------

% B I B L I O G R A P H Y
% -----------------------

% The following statement selects the style to use for references.  It controls the sort order of the entries in the bibliography and also the formatting for the in-text labels.
\bibliographystyle{apalike}
% This specifies the location of the file containing the bibliographic information.  
% It assumes you're using BibTeX (if not, why not?).
\cleardoublepage % This is needed if the book class is used, to place the anchor in the correct page,
                 % because the bibliography will start on its own page.
                 % Use \clearpage instead if the document class uses the "oneside" argument
\phantomsection  % With hyperref package, enables hyperlinking from the table of contents to bibliography             
% The following statement causes the title "References" to be used for the bibliography section:
\renewcommand*{\bibname}{References}

% Add the References to the Table of Contents
\addcontentsline{toc}{chapter}{\textbf{References}}

\bibliography{refP1, refP2, refP3, refOther}
% Tip 5: You can create multiple .bib files to organize your references. 
% Just list them all in the \bibliogaphy command, separated by commas (no spaces).

% The following statement causes the specified references to be added to the bibliography% even if they were not 
% cited in the text. The asterisk is a wildcard that causes all entries in the bibliographic database to be included (optional).
\nocite{*}

\input{appendix}

\end{document}
